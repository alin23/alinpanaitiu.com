<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>{{ if .IsHome }}{{ .Title }}{{ else }}{{ .Page.Title }} | {{ .Site.Title }}{{ end }}</title>

  {{ template "_internal/opengraph.html" . }}
  {{ template "_internal/schema.html" . }}
  {{ template "_internal/twitter_cards.html" . }}

  <link rel="shortcut icon" href="{{ .Site.Params.favicon }}" type="image/x-icon">
  <link rel="icon" href="{{ .Site.Params.favicon }}" type="image/x-icon">
  {{ range .AlternativeOutputFormats }}
    {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
  {{ end }}
  {{ $styles := resources.Get "scaffold.scss" | resources.ExecuteAsTemplate "style.scaffold.scss" . | toCSS | minify | fingerprint }}
  <!-- <link rel="stylesheet" href="{{ $styles.Permalink }}" integrity="{{ $styles.Data.Integrity }}" > -->
  <link rel="stylesheet" href="{{ $styles.Permalink }}" integrity="{{ $styles.Data.Integrity }}" >
  {{ range .Params.pageStyles }}
    {{ $pageStyles := resources.Get .file | resources.ExecuteAsTemplate (printf "style.%s" (path.Base .file)) . | toCSS | minify | fingerprint }}
    <link rel="stylesheet" href="{{ $pageStyles.Permalink }}" integrity="{{ $pageStyles.Data.Integrity }}" media="{{ .media }}" >
  {{ end }}
  {{ $printStyles := resources.Get "print.sass" | resources.ExecuteAsTemplate "style.print.sass" . | toCSS | minify | fingerprint }}
  <link rel="stylesheet" href="{{ $printStyles.Permalink }}" integrity="{{ $printStyles.Data.Integrity }}" media="print">
  <script async type="module" src="/scripts/dark-mode-toggle.mjs"></script>
  {{ if eq (getenv "HUGO_ENV") "production" }}
    <script async defer data-domain="alinpanaitiu.com" src="https://plausible.alinpanaitiu.com/js/plausible.js"></script>
  {{ end }}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- async CSS -->
  <link rel="stylesheet" media="print" onload="this.onload=null;this.removeAttribute('media');" href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@500;700&display=swap">
  <!-- no-JS fallback -->
  <noscript>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@500;700&display=swap">
  </noscript>
</head>
